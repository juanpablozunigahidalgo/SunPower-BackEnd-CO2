# Home Assignment — Backend Software Engineer
Position: BackEnd-FullStack-Engineer.
Client: SunPower Corporation — U.S. Renewable Energy Company
Delivery Date: 27 October 2025
# SunPowerScope — Carbon Accounting & Solar Compensation API
Scenario
SunPower Corporation, a leading solar technology company in the United States, wants to offer corporate customers a carbon tracking service that quantifies how much their business operations emit — and how much of those emissions are compensated through SunPower’s solar projects.
They need a backend API service that:
Accepts data about a company’s activities (e.g., electricity use, fuel consumption, and spending),
Calculates CO₂ emissions using standard emission factors, and
Models the compensation effect of solar energy generated by SunPower projects.
Your task is to design and build that backend system.
# Objective
Create a Python backend application that models the end-to-end flow of carbon accounting and compensation, from raw activity data to net emissions per company.
You should focus primarily on backend logic, data modeling, and API design — not frontend visuals.
# Assignment Requirements

1. Core Functionality
Build a backend service that:
Uses FastAPI for RESTful APIs
Stores data with SQLAlchemy ORM and SQLite (local) or Postgres (Neon free tier)
Includes models for:
Companies
Activities
Emission factors
Solar projects
Solar allocations
Implements core logic to:
Calculate gross emissions by category
Estimate avoided emissions from solar energy
Compute net emissions (gross minus compensation)

2. Technical Requirements
Area	Details
Language & Framework	Python 3.11+, FastAPI
Database	SQLite (default) or Postgres (optional cloud)
ORM	SQLAlchemy
Testing	pytest
Docs	Swagger UI (auto-generated by FastAPI)
Containerization	Dockerfile (and optional docker-compose)
Configuration	.env or Pydantic Settings
Health Check	/health endpoint for uptime

3.Optional Enhancements

JWT Authentication for companies

Background job (Celery or FastAPI BackgroundTasks) for recalculations
/metrics endpoint (Prometheus format)
Deploy to a free cloud host (Render / Railway / Fly.io)
Solar Compensation Scheme
Each solar project in the system represents renewable energy generation that reduces grid-based emissions.
The API should calculate how much CO₂ a project avoids each year and how that benefit is allocated to companies.
Field	Description
name	Solar project name
location_country	Country for grid factor reference
capacity_kwp	Installed solar capacity (kWp)
performance_ratio	Efficiency (default 0.82)
peak_sun_hours_per_day	Region-based average (e.g., California ≈ 5.5)
grid_factor_kg_per_kwh	Carbon intensity of the avoided grid electricity
commissioning_date	Start of project operation

Formulas:
annual_kWh = capacity_kwp * performance_ratio * peak_sun_hours_per_day * 365
avoided_emissions_kg = annual_kWh * grid_factor_kg_per_kwh
allocated_kg = avoided_emissions_kg * allocation_fraction * (days_active / 365)
net_emissions_kg = gross_emissions_kg - sum(allocated_kg)

API Overview
Method	Endpoint	Description
POST	/companies/	Register a company
POST	/activities/	Log company activities (electricity, fuel, etc.)
GET	/companies/{id}/emissions	Retrieve total gross emissions
POST	/solar/projects/	Register a solar project
POST	/solar/allocations/	Allocate solar project shares to companies
GET	/companies/{id}/net-emissions	Return emissions after solar compensation
GET	/health	System health check
